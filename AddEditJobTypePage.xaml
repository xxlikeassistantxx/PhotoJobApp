<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="PhotoJobApp.AddEditJobTypePage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Job Type"
             BackgroundColor="{StaticResource Gray100}">

    <ScrollView>
        <StackLayout Padding="20" Spacing="20">
            <!-- Basic Information -->
            <Frame Padding="15" CornerRadius="10" HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="Basic Information" 
                           FontSize="24"
                           FontAttributes="Bold"/>
                    
                    <Label Text="Name *" FontSize="16"/>
                    <Entry x:Name="NameEntry" 
                           Text="{Binding Name}"
                           Placeholder="Enter job type name"/>
                    
                    <Label Text="Description" FontSize="16"/>
                    <Editor x:Name="DescriptionEditor" 
                           Text="{Binding Description}"
                           Placeholder="Enter description"
                           HeightRequest="80"
                           AutoSize="TextChanges"/>
                    
                    <Label Text="Icon" FontSize="16"/>
                    <Entry x:Name="IconEntry" 
                           Text="{Binding Icon}"
                           Placeholder="ðŸ“·"/>
                    
                    <Label Text="Color" FontSize="16"/>
                    <Picker x:Name="ColorPicker" 
                           Title="Select Color"
                           SelectedIndexChanged="OnColorPickerChanged">
                        <Picker.ItemsSource>
                            <x:Array Type="x:Type x:String">
                                <x:String>#FF6B6B</x:String>
                                <x:String>#4ECDC4</x:String>
                                <x:String>#45B7D1</x:String>
                                <x:String>#96CEB4</x:String>
                                <x:String>#FFEAA7</x:String>
                                <x:String>#DDA0DD</x:String>
                                <x:String>#98D8C8</x:String>
                                <x:String>#F7DC6F</x:String>
                            </x:Array>
                        </Picker.ItemsSource>
                    </Picker>
                </StackLayout>
            </Frame>

            <!-- Features -->
            <Frame Padding="15" CornerRadius="10" HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="Features" 
                           FontSize="24"
                           FontAttributes="Bold"/>
                    
                    <StackLayout Orientation="Horizontal">
                        <CheckBox x:Name="HasPhotosCheckBox" 
                                 IsChecked="{Binding HasPhotos}"/>
                        <Label Text="Include Photos" 
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </StackLayout>
                    
                    <StackLayout Orientation="Horizontal">
                        <CheckBox x:Name="HasLocationCheckBox" 
                                 IsChecked="{Binding HasLocation}"/>
                        <Label Text="Include Location" 
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </StackLayout>
                    
                    <StackLayout Orientation="Horizontal">
                        <CheckBox x:Name="HasClientInfoCheckBox" 
                                 IsChecked="{Binding HasClientInfo}"/>
                        <Label Text="Include Client Information" 
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </StackLayout>
                    
                    <StackLayout Orientation="Horizontal">
                        <CheckBox x:Name="HasPricingCheckBox" 
                                 IsChecked="{Binding HasPricing}"/>
                        <Label Text="Include Pricing" 
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </StackLayout>
                    
                    <StackLayout Orientation="Horizontal">
                        <CheckBox x:Name="HasDueDateCheckBox" 
                                 IsChecked="{Binding HasDueDate}"/>
                        <Label Text="Include Due Date" 
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </StackLayout>
                    
                    <StackLayout Orientation="Horizontal">
                        <CheckBox x:Name="HasStatusCheckBox" 
                                 IsChecked="{Binding HasStatus}"/>
                        <Label Text="Include Status" 
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </StackLayout>
                    
                    <StackLayout Orientation="Horizontal">
                        <CheckBox x:Name="HasNotesCheckBox" 
                                 IsChecked="{Binding HasNotes}"/>
                        <Label Text="Include Notes" 
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </StackLayout>
                    
                    <StackLayout Orientation="Horizontal">
                        <CheckBox x:Name="HasUrgentFlagCheckBox" 
                                 IsChecked="{Binding HasUrgentFlag}"/>
                        <Label Text="Include Urgent Flag" 
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </StackLayout>
                </StackLayout>
            </Frame>

            <!-- Status Options -->
            <Frame Padding="15" CornerRadius="10" HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="Status Options" 
                           FontSize="24"
                           FontAttributes="Bold"/>
                    
                    <Label Text="Status Options (comma-separated)" FontSize="16"/>
                    <Editor x:Name="StatusOptionsEditor" 
                           Text="{Binding StatusOptions}"
                           Placeholder="Pending,In Progress,Completed,Cancelled"
                           HeightRequest="60"
                           AutoSize="TextChanges"/>
                </StackLayout>
            </Frame>

            <!-- Custom Fields -->
            <Frame Padding="15" CornerRadius="10" HasShadow="True">
                <StackLayout Spacing="15">
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0" 
                               Text="Custom Fields" 
                               FontSize="24"
                               FontAttributes="Bold"/>
                        <Button Grid.Column="1" 
                                Text="Add Field" 
                                BackgroundColor="#512BD4"
                                TextColor="White"
                                Clicked="OnAddCustomFieldClicked"/>
                    </Grid>
                    
                    <CollectionView x:Name="CustomFieldsCollectionView" 
                                   ItemsSource="{Binding CustomFieldsList}"
                                   HeightRequest="200">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Frame Margin="0,5" Padding="10" CornerRadius="5" HasShadow="True">
                                    <Grid RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="*,Auto">
                                        <Label Grid.Row="0" Grid.Column="0"
                                               Text="{Binding Name}" 
                                               FontSize="16"
                                               FontAttributes="Bold"/>
                                        <Button Grid.Row="0" Grid.Column="1"
                                                Text="ðŸ—‘ï¸" 
                                                FontSize="12"
                                                WidthRequest="30"
                                                HeightRequest="30"
                                                CornerRadius="15"
                                                BackgroundColor="Transparent"
                                                Clicked="OnDeleteCustomFieldClicked"
                                                CommandParameter="{Binding .}"/>
                                        
                                        <Label Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                                               Text="{Binding Type, StringFormat='Type: {0}'}" 
                                               FontSize="12"
                                               TextColor="Gray"/>
                                        
                                        <Label Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                                               Text="{Binding Required, StringFormat='Required: {0}'}" 
                                               FontSize="12"
                                               TextColor="Gray"/>
                                    </Grid>
                                </Frame>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </StackLayout>
            </Frame>

            <!-- Action Buttons -->
            <StackLayout Orientation="Horizontal" Spacing="10">
                <Button Text="Cancel" 
                       BackgroundColor="Gray"
                       TextColor="White"
                       HorizontalOptions="FillAndExpand"
                       Clicked="OnCancelClicked"/>
                <Button Text="Save" 
                       BackgroundColor="#512BD4"
                       TextColor="White"
                       HorizontalOptions="FillAndExpand"
                       Clicked="OnSaveClicked"/>
            </StackLayout>
        </StackLayout>
    </ScrollView>

</ContentPage> 
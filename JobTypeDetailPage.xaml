<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="PhotoJobApp.JobTypeDetailPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Job Type Details"
             BackgroundColor="{StaticResource Gray100}">

    <ScrollView>
        <StackLayout Padding="20" Spacing="20">
            <!-- Header -->
            <Frame Padding="15" CornerRadius="10" HasShadow="True">
                <Grid RowDefinitions="Auto,Auto" ColumnDefinitions="Auto,*">
                    <Label Grid.Row="0" Grid.Column="0"
                           Text="{Binding Icon}" 
                           FontSize="48"
                           VerticalOptions="Center"
                           Margin="0,0,15,0"/>
                    <StackLayout Grid.Row="0" Grid.Column="1">
                        <Label Text="{Binding Name}" 
                               Style="{StaticResource Headline}"
                               FontAttributes="Bold"/>
                        <Label Text="{Binding Description}" 
                               Style="{StaticResource BodyText}"
                               TextColor="Gray"/>
                    </StackLayout>
                    <Label Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                           Text="{Binding FormattedCreatedDate, StringFormat='Created: {0}'}" 
                           Style="{StaticResource CaptionText}"
                           TextColor="Gray"
                           Margin="0,10,0,0"/>
                </Grid>
            </Frame>

            <!-- Features -->
            <Frame Padding="15" CornerRadius="10" HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="Features" 
                           Style="{StaticResource SubHeadline}" 
                           FontAttributes="Bold"/>
                    
                    <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto,Auto">
                        <Label Grid.Row="0" Grid.Column="0" 
                               Text="{Binding HasPhotos, StringFormat='Photos: {0}'}" 
                               Style="{StaticResource BodyText}"/>
                        <Label Grid.Row="0" Grid.Column="1" 
                               Text="{Binding HasLocation, StringFormat='Location: {0}'}" 
                               Style="{StaticResource BodyText}"/>
                        
                        <Label Grid.Row="1" Grid.Column="0" 
                               Text="{Binding HasClientInfo, StringFormat='Client Info: {0}'}" 
                               Style="{StaticResource BodyText}"/>
                        <Label Grid.Row="1" Grid.Column="1" 
                               Text="{Binding HasPricing, StringFormat='Pricing: {0}'}" 
                               Style="{StaticResource BodyText}"/>
                        
                        <Label Grid.Row="2" Grid.Column="0" 
                               Text="{Binding HasDueDate, StringFormat='Due Date: {0}'}" 
                               Style="{StaticResource BodyText}"/>
                        <Label Grid.Row="2" Grid.Column="1" 
                               Text="{Binding HasStatus, StringFormat='Status: {0}'}" 
                               Style="{StaticResource BodyText}"/>
                        
                        <Label Grid.Row="3" Grid.Column="0" 
                               Text="{Binding HasNotes, StringFormat='Notes: {0}'}" 
                               Style="{StaticResource BodyText}"/>
                        <Label Grid.Row="3" Grid.Column="1" 
                               Text="{Binding HasUrgentFlag, StringFormat='Urgent Flag: {0}'}" 
                               Style="{StaticResource BodyText}"/>
                    </Grid>
                </StackLayout>
            </Frame>

            <!-- Status Options -->
            <Frame Padding="15" CornerRadius="10" HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="Status Options" 
                           Style="{StaticResource SubHeadline}" 
                           FontAttributes="Bold"/>
                    
                    <Label Text="{Binding StatusOptions}" 
                           Style="{StaticResource BodyText}"/>
                </StackLayout>
            </Frame>

            <!-- Custom Fields -->
            <Frame Padding="15" CornerRadius="10" HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="Custom Fields" 
                           Style="{StaticResource SubHeadline}" 
                           FontAttributes="Bold"/>
                    
                    <CollectionView ItemsSource="{Binding CustomFieldsList}"
                                   HeightRequest="200">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Frame Margin="0,5" Padding="10" CornerRadius="5" HasShadow="True">
                                    <StackLayout Spacing="5">
                                        <Label Text="{Binding Name}" 
                                               Style="{StaticResource BodyText}"
                                               FontAttributes="Bold"/>
                                        <Label Text="{Binding Type, StringFormat='Type: {0}'}" 
                                               Style="{StaticResource CaptionText}"
                                               TextColor="Gray"/>
                                        <Label Text="{Binding Required, StringFormat='Required: {0}'}" 
                                               Style="{StaticResource CaptionText}"
                                               TextColor="Gray"/>
                                        <Label Text="{Binding Options, StringFormat='Options: {0}'}" 
                                               Style="{StaticResource CaptionText}"
                                               TextColor="Gray"/>
                                    </StackLayout>
                                </Frame>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </StackLayout>
            </Frame>

            <!-- Action Buttons -->
            <StackLayout Orientation="Horizontal" Spacing="10">
                <Button Text="Edit" 
                       BackgroundColor="#512BD4"
                       TextColor="White"
                       HorizontalOptions="FillAndExpand"
                       Clicked="OnEditClicked"/>
                <Button Text="Create Job" 
                       BackgroundColor="Green"
                       TextColor="White"
                       HorizontalOptions="FillAndExpand"
                       Clicked="OnCreateJobClicked"/>
            </StackLayout>
        </StackLayout>
    </ScrollView>

</ContentPage> 